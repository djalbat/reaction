"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createStore = exports.combineReducers = void 0;
var createStore = function(reducer) {
    var state, listeners = [];
    var getState = function() {
        return state;
    };
    var dispatch = function(action) {
        state = reducer(state, action);
        listeners.forEach(function(listener) {
            return listener();
        });
    };
    var subscribe = function(listener) {
        listeners.push(listener);
        return function() {
            unsubscribe(listener);
        };
    };
    var unsubscribe = function(l) {
        listeners = listeners.filter(function(listener) {
            return listener !== l;
        });
    };
    dispatch();
    return {
        getState: getState,
        dispatch: dispatch,
        subscribe: subscribe,
        unsubscribe: unsubscribe
    };
};
exports.createStore = createStore;
var combineReducers = function(reducers) {
    return function(param, action) {
        var state = param === void 0 ? {
        } : param;
        var keys = Object.keys(reducers), nextState = keys.reduce(function(nextState, key) {
            var reducer = reducers[key];
            nextState[key] = reducer(state[key], action);
            return nextState;
        }, {
        });
        return nextState;
    };
};
exports.combineReducers = combineReducers;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9leGFtcGxlL3JlZHV4QXBwL3JlZHV4LmpzIl0sIm5hbWVzIjpbImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsInN0YXRlIiwibGlzdGVuZXJzIiwiZ2V0U3RhdGUiLCJkaXNwYXRjaCIsImFjdGlvbiIsImZvckVhY2giLCJsaXN0ZW5lciIsInN1YnNjcmliZSIsInB1c2giLCJ1bnN1YnNjcmliZSIsImwiLCJmaWx0ZXIiLCJjb21iaW5lUmVkdWNlcnMiLCJyZWR1Y2VycyIsImtleXMiLCJPYmplY3QiLCJuZXh0U3RhdGUiLCJyZWR1Y2UiLCJrZXkiXSwibWFwcGluZ3MiOiJDQUFBLFVBQVk7Ozs7O0FBRUwsR0FBSyxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQVAsT0FBTyxFQUFLLENBQUM7SUFDdkMsR0FBRyxDQUFDLEtBQUssRUFDTCxTQUFTLEdBQUcsQ0FBQyxDQUFDO0lBRWxCLEdBQUssQ0FBQyxRQUFRLEdBQUcsUUFDbkIsR0FEeUIsQ0FBQztRQUN0QixNQUFNLENBQUMsS0FBSztJQUNkLENBQUM7SUFFRCxHQUFLLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBUCxNQUFNLEVBQUssQ0FBQztRQUM1QixLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNO1FBRTdCLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFQLFFBQVE7WUFBSyxNQUFNLENBQU4sUUFBUTs7SUFDMUMsQ0FBQztJQUVELEdBQUssQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFQLFFBQVEsRUFBSyxDQUFDO1FBQy9CLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUTtRQUV2QixNQUFNLENBQUUsUUFDWixHQURrQixDQUFDO1lBQ2IsV0FBVyxDQUFDLFFBQVE7UUFDdEIsQ0FBQztJQUNILENBQUM7SUFFRCxHQUFLLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBUCxDQUFDLEVBQUssQ0FBQztRQUMxQixTQUFTLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQVAsUUFBUSxFQUFLLENBQUM7WUFDMUMsTUFBTSxDQUFFLFFBQVEsS0FBSyxDQUFDO1FBQ3hCLENBQUM7SUFDSCxDQUFDO0lBRUQsUUFBUTtJQUVSLE1BQU0sQ0FBQyxDQUFDO1FBQUMsUUFBUSxFQUFSLFFBQVE7UUFBRSxRQUFRLEVBQVIsUUFBUTtRQUFFLFNBQVMsRUFBVCxTQUFTO1FBQUUsV0FBVyxFQUFYLFdBQVc7SUFBQyxDQUFDO0FBQ3ZELENBQUM7UUEvQlksV0FBVyxHQUFYLFdBQVc7QUFpQ2pCLEdBQUssQ0FBQyxlQUFlLEdBQUcsUUFBUSxDQUFQLFFBQVEsRUFBSyxDQUFDO0lBQzVDLE1BQU0sQ0FBQyxRQUFRLFFBQUssTUFBTSxFQUFLLENBQUM7WUFBeEIsS0FBSyxzQkFBRyxDQUFDO1FBQUEsQ0FBQztRQUNoQixHQUFLLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUMzQixTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQVAsU0FBUyxFQUFFLEdBQUcsRUFBSyxDQUFDO1lBQzNDLEdBQUssQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUc7WUFFNUIsU0FBUyxDQUFDLEdBQUcsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxNQUFNO1lBRTNDLE1BQU0sQ0FBQyxTQUFTO1FBQ2xCLENBQUMsRUFBRSxDQUFDO1FBQUEsQ0FBQztRQUVYLE1BQU0sQ0FBQyxTQUFTO0lBQ2xCLENBQUM7QUFDSCxDQUFDO1FBYlksZUFBZSxHQUFmLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0b3JlID0gKHJlZHVjZXIpID0+IHtcbiAgbGV0IHN0YXRlLFxuICAgICAgbGlzdGVuZXJzID0gW107XG5cbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gKGFjdGlvbikgPT4ge1xuICAgIHN0YXRlID0gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoKSk7XG4gIH07XG5cbiAgY29uc3Qgc3Vic2NyaWJlID0gKGxpc3RlbmVyKSA9PiB7XG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuICgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZShsaXN0ZW5lcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSAobCkgPT4ge1xuICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoKGxpc3RlbmVyKSA9PiB7XG4gICAgICByZXR1cm4gKGxpc3RlbmVyICE9PSBsKTtcbiAgICB9KTtcbiAgfTtcblxuICBkaXNwYXRjaCgpO1xuXG4gIHJldHVybiB7IGdldFN0YXRlLCBkaXNwYXRjaCwgc3Vic2NyaWJlLCB1bnN1YnNjcmliZSB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbWJpbmVSZWR1Y2VycyA9IChyZWR1Y2VycykgPT4ge1xuICByZXR1cm4gKHN0YXRlID0ge30sIGFjdGlvbikgPT4ge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2VycyksXG4gICAgICAgICAgbmV4dFN0YXRlID0ga2V5cy5yZWR1Y2UoKG5leHRTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcblxuICAgICAgICAgICAgbmV4dFN0YXRlW2tleV0gPSByZWR1Y2VyKHN0YXRlW2tleV0sIGFjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICAgICAgfSwge30pO1xuXG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfTtcbn07XG4iXX0=
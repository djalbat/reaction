"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.combineReducers = exports.createStore = void 0;
var createStore = function(reducer) {
    var state, listeners = [];
    var getState = function() {
        return state;
    };
    var dispatch = function(action) {
        state = reducer(state, action);
        listeners.forEach(function(listener) {
            return listener();
        });
    };
    var subscribe = function(listener) {
        listeners.push(listener);
        return function() {
            unsubscribe(listener);
        };
    };
    var unsubscribe = function(l) {
        listeners = listeners.filter(function(listener) {
            return listener !== l;
        });
    };
    dispatch();
    return {
        getState: getState,
        dispatch: dispatch,
        subscribe: subscribe,
        unsubscribe: unsubscribe
    };
};
exports.createStore = createStore;
var combineReducers = function(reducers) {
    return function(param, action) {
        var state = param === void 0 ? {
        } : param;
        var keys = Object.keys(reducers), nextState1 = keys.reduce(function(nextState, key) {
            var reducer = reducers[key];
            nextState[key] = reducer(state[key], action);
            return nextState;
        }, {
        });
        return nextState1;
    };
};
exports.combineReducers = combineReducers;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9leGFtcGxlL3JlZHV4QXBwL3JlZHV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3RvcmUgPSAocmVkdWNlcikgPT4ge1xuICBsZXQgc3RhdGUsXG4gICAgICBsaXN0ZW5lcnMgPSBbXTtcblxuICBjb25zdCBnZXRTdGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSAoYWN0aW9uKSA9PiB7XG4gICAgc3RhdGUgPSByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcigpKTtcbiAgfTtcblxuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gKCgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB1bnN1YnNjcmliZSA9IChsKSA9PiB7XG4gICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcigobGlzdGVuZXIpID0+IHtcbiAgICAgIHJldHVybiAobGlzdGVuZXIgIT09IGwpO1xuICAgIH0pO1xuICB9O1xuXG4gIGRpc3BhdGNoKCk7XG5cbiAgcmV0dXJuIHsgZ2V0U3RhdGUsIGRpc3BhdGNoLCBzdWJzY3JpYmUsIHVuc3Vic2NyaWJlIH07XG59O1xuXG5leHBvcnQgY29uc3QgY29tYmluZVJlZHVjZXJzID0gKHJlZHVjZXJzKSA9PiB7XG4gIHJldHVybiAoc3RhdGUgPSB7fSwgYWN0aW9uKSA9PiB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKSxcbiAgICAgICAgICBuZXh0U3RhdGUgPSBrZXlzLnJlZHVjZSgobmV4dFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuXG4gICAgICAgICAgICBuZXh0U3RhdGVba2V5XSA9IHJlZHVjZXIoc3RhdGVba2V5XSwgYWN0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICAgICAgICB9LCB7fSk7XG5cbiAgICByZXR1cm4gbmV4dFN0YXRlO1xuICB9O1xufTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVTdG9yZSIsInJlZHVjZXIiLCJzdGF0ZSIsImxpc3RlbmVycyIsImdldFN0YXRlIiwiZGlzcGF0Y2giLCJhY3Rpb24iLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJzdWJzY3JpYmUiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJsIiwiZmlsdGVyIiwiY29tYmluZVJlZHVjZXJzIiwicmVkdWNlcnMiLCJrZXlzIiwiT2JqZWN0IiwibmV4dFN0YXRlIiwicmVkdWNlIiwia2V5Il0sIm1hcHBpbmdzIjoiQUFBQSxDQUFZOzs7OztBQUVMLEdBQUssQ0FBQ0EsV0FBVyxHQUFHLFFBQVEsQ0FBUEMsT0FBTyxFQUFLLENBQUM7SUFDdkMsR0FBRyxDQUFDQyxLQUFLLEVBQ0xDLFNBQVMsR0FBRyxDQUFDLENBQUM7SUFFbEIsR0FBSyxDQUFDQyxRQUFRLEdBQUcsUUFDbkIsR0FEeUIsQ0FBQztRQUN0QixNQUFNLENBQUNGLEtBQUs7SUFDZCxDQUFDO0lBRUQsR0FBSyxDQUFDRyxRQUFRLEdBQUcsUUFBUSxDQUFQQyxNQUFNLEVBQUssQ0FBQztRQUM1QkosS0FBSyxHQUFHRCxPQUFPLENBQUNDLEtBQUssRUFBRUksTUFBTTtRQUU3QkgsU0FBUyxDQUFDSSxPQUFPLENBQUMsUUFBUSxDQUFQQyxRQUFRO1lBQUtBLE1BQU0sQ0FBTkEsUUFBUTs7SUFDMUMsQ0FBQztJQUVELEdBQUssQ0FBQ0MsU0FBUyxHQUFHLFFBQVEsQ0FBUEQsUUFBUSxFQUFLLENBQUM7UUFDL0JMLFNBQVMsQ0FBQ08sSUFBSSxDQUFDRixRQUFRO1FBRXZCLE1BQU0sQ0FBRSxRQUNaLEdBRGtCLENBQUM7WUFDYkcsV0FBVyxDQUFDSCxRQUFRO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0lBRUQsR0FBSyxDQUFDRyxXQUFXLEdBQUcsUUFBUSxDQUFQQyxDQUFDLEVBQUssQ0FBQztRQUMxQlQsU0FBUyxHQUFHQSxTQUFTLENBQUNVLE1BQU0sQ0FBQyxRQUFRLENBQVBMLFFBQVEsRUFBSyxDQUFDO1lBQzFDLE1BQU0sQ0FBRUEsUUFBUSxLQUFLSSxDQUFDO1FBQ3hCLENBQUM7SUFDSCxDQUFDO0lBRURQLFFBQVE7SUFFUixNQUFNLENBQUMsQ0FBQztRQUFDRCxRQUFRLEVBQVJBLFFBQVE7UUFBRUMsUUFBUSxFQUFSQSxRQUFRO1FBQUVJLFNBQVMsRUFBVEEsU0FBUztRQUFFRSxXQUFXLEVBQVhBLFdBQVc7SUFBQyxDQUFDO0FBQ3ZELENBQUM7UUEvQllYLFdBQVcsR0FBWEEsV0FBVztBQWlDakIsR0FBSyxDQUFDYyxlQUFlLEdBQUcsUUFBUSxDQUFQQyxRQUFRLEVBQUssQ0FBQztJQUM1QyxNQUFNLENBQUMsUUFBUSxRQUFLVCxNQUFNLEVBQUssQ0FBQztZQUF4QkosS0FBSyxzQkFBRyxDQUFDO1FBQUEsQ0FBQztRQUNoQixHQUFLLENBQUNjLElBQUksR0FBR0MsTUFBTSxDQUFDRCxJQUFJLENBQUNELFFBQVEsR0FDM0JHLFVBQVMsR0FBR0YsSUFBSSxDQUFDRyxNQUFNLENBQUMsUUFBUSxDQUFQRCxTQUFTLEVBQUVFLEdBQUcsRUFBSyxDQUFDO1lBQzNDLEdBQUssQ0FBQ25CLE9BQU8sR0FBR2MsUUFBUSxDQUFDSyxHQUFHO1lBRTVCRixTQUFTLENBQUNFLEdBQUcsSUFBSW5CLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDa0IsR0FBRyxHQUFHZCxNQUFNO1lBRTNDLE1BQU0sQ0FBQ1ksU0FBUztRQUNsQixDQUFDLEVBQUUsQ0FBQztRQUFBLENBQUM7UUFFWCxNQUFNLENBQUNBLFVBQVM7SUFDbEIsQ0FBQztBQUNILENBQUM7UUFiWUosZUFBZSxHQUFmQSxlQUFlIn0=